# Microsoft Outlook Failure Reports Configuration

# Azure AD / Entra ID Configuration
# Get these from Azure Portal > App registrations > Your app
SHOUTBOMB_TENANT_ID=your-tenant-id-here
SHOUTBOMB_CLIENT_ID=your-client-id-here
SHOUTBOMB_CLIENT_SECRET=your-client-secret-here

# Mailbox to Monitor
# Email address of the mailbox where failure reports are received
SHOUTBOMB_USER_EMAIL=notices@dcplibrary.org

# Graph API Version (usually don't need to change this)
SHOUTBOMB_API_VERSION=v1.0

# Email Filtering Options
# Folder to monitor (null for inbox, or specify folder name like "Failure Reports")
SHOUTBOMB_FOLDER=null

# Subject filter (partial match, case-insensitive)
# Filter for Shoutbomb failure reports
SHOUTBOMB_SUBJECT_FILTER=Invalid patron phone number

# Sender email filters (comma-separated)
# Shoutbomb sender addresses
SHOUTBOMB_FROM_FILTER=shoutbomb.com

# Maximum number of emails to process per run
SHOUTBOMB_MAX_EMAILS=50

# Only process unread emails
SHOUTBOMB_UNREAD_ONLY=true

# Mark emails as read after processing
SHOUTBOMB_MARK_AS_READ=true

# Move processed emails to a folder (null to keep in place)
# Folder must exist in Outlook before using this
SHOUTBOMB_MOVE_TO_FOLDER=null

# Storage Configuration
# Database table name for storing failure reports
SHOUTBOMB_FAILURE_TABLE=notice_failure_reports

# Store raw email content for debugging (uses more disk space)
SHOUTBOMB_STORE_RAW=false

# Log each processed email to Laravel log
SHOUTBOMB_LOG_PROCESSING=true
